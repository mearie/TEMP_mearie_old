## vim: syn=mako
<%inherit file="../../entry.tmpl.html"/>
<%!
title = u'배포판 업그레이드의 결과'
when = '2007-08-11T18:21:52+09:00'
tags = [u'리눅스', u'삽질']
original = 'http://mearie.org/journal/2007/08/consequence-of-dist-upgrade'
%>

루리넷은 2006년 8월 설치 당시에 우분투 대퍼를 사용했다. 그러다가 몇 달 전에 패키지를 설치하려다가 대퍼에 없다는 걸 알고 신경질나서 엣지로 옮겨 탔는데, [랜덤여신](http://barosl.com/) 놈이 올려 달라고 해서 어젯밤에 페이스티로 다시 갈아 엎었다.

...덕분에 삽질을 맘껏 했다. 지금까지 발생한 문제는 다음과 같다.

* MySQL 데몬이 업데이트 이후에도 켜지지 않았다. 한참 살펴 보다가 /var 파티션이 MySQL 바이너리 로그 때문에 꽉 차 버렸다는 걸 알고 허탈. 왜 켠 건지가 기억나지 않는다. (어쩌면 replication 준비하려다가 제껴서 그런것 같기도 한데)
* 아파치 웹 서버가 생각지도 않게 2.2.3으로 올라 갔다. 덕분에 서버 설정이 엉망이 되어서 한참 고생했는데, 특히 mod_auth_digest의 `AuthDigestFile`이 `AuthUserFile`로 흡수되고 `AuthDigest-Provider`가 생긴 것 때문에 좀 애를 먹였다. (찾는 대로 다 고치긴 했는데 더 남아 있을 지도 모르겠다.)
* 업데이트 이후에 webalizer가 아예 동작하지 않아서 통계를 재생성하고 난리를 쳤는데, 알고 보니 옛날 서버 설정에서 `LogFormat`를 수정해 쓰고 있었는데 이걸 복사하지 않아서 로그에 엉뚱한 문자열만 기록되고 있었다. 2만 줄 정도가 영향을 받았는데 빨리 찾아 내길 정말 다행이다.

이번 일로 무슨 일이든 할 때는 자료를 먼저 찾아 보고 삽질을 하자...는 결론을 얻었다. 언제나 내리는 결론이지만.

