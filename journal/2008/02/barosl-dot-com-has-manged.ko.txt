## vim: syn=mako
<%inherit file="../../entry.tmpl.html"/>
<%!
title = u'바로슬닷컴 망하다'
when = '2008-02-05T08:43:44+09:00'
tags = [u'생활', u'삽질']
original = 'http://mearie.org/journal/2008/02/barosl-dot-com-has-manged'
%>

아는 사람은 다 알지만 내가 학교에 두고 쓰고 있는 서버인 [루리넷](http://ruree.net/)에서는 [바로슬닷컴](http://barosl.com/)과 [인클봇](http://barosl.com/inklbot/)을 호스팅하고 있다.

호스팅은 작년 8월에 시작했다. 첫 달에 대략 30기가바이트의 트래픽을 보이며 그럭 저럭 견딜 수 있겠다라고 생각했었는데, 슬슬 서버의 평균 부하(load average)가 1.0을 넘기는 때가 많아지면서 불안해지기 시작했다. 그도 그럴 것이 랜덤여신이 돌리는 서비스가 서버 자원을 많이 먹을 수 밖에 없기 때문인데,

* 블로그 엔진인 텍스트큐브는 내가 개발에 참여한 적이 있으면서도 상당히 느린 축에 속하고,
* 방명록은 또 다른 태터틀즈 0.9x 기반으로 돌아 가고 있으며,
* 위키는 다들 무거워서 memcached 써야 한다고 설레발을 치던 미디어위키 최신 버전을 쓰며,
* 인클봇 중앙 서버는 서버 CPU를 평균 15~20%를 잡아 먹는 리소스 괴물이었다.

[예전에 올린 글](/journal/2007/11/bugs-are-everywhere)에서도 언급했지만, 인클봇에는 내부적으로 버그도 꽤 많아서 서버 죽이는 데 적합한 프로그램이었다. broken pipe 메시지와 함께 인클봇과 서버가 함께 죽어 버리는 문제는 계산 명령의 버그를 고치며 상당히 개선되었지만 여전히 남아 있었으며, 종종 서버 상의 모든 유닉스 소켓을 먹어 버리고 죽는 경우도 생기곤 했다.

지난 사흘간 루리넷과 관련된 사이트들(메아리, 바로슬닷컴, 유르넷, 라이젤의 잡화점 등)이 모두 죽어 있던 것도 아마 인클봇과 관계가 있는 걸로 추정된다. (물론 종종 바로슬닷컴으로부터의 <abbr title="Denial of Service, 서비스 거부 공격">DoS</abbr>로 죽는 경우도 있긴 했다.) 가장 큰 문제는 내가 12월 말 이후로 서울에 계속 있어서 서버를 재부팅할 수 없었다는 점인데, [페레멘](http://peremen.name/)의 도움으로 재부팅을 해 놓고 나서 몇 시간 후에 서버가 다시 뒈져 버리는 황당한 경험까지 하고 랜덤여신도 루리넷에서 다른 곳으로 옮겨야 겠다는 생각을 하게 되었다나.

뭐 그래서 이제 바로슬닷컴과 인클봇은 루리넷에서 안 돌아 갑니다. 그러니 서버 불안정했던 건 이제 좀 안심하셔도 좋습니다. (-_-;;;)

<div class="afternote">

2010년 3월 현재 바로슬닷컴은 다시 루리넷으로 돌아 왔으며 여전히 루리넷 서버 불안정의 주요 원인이 되고 있다. 인클봇 중앙 서버는 다른 서버로 옮겨갔다. <small>(2010-03-01)</small>

</div>

